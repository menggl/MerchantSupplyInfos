<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>积分充值</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { display: flex; justify-content: center; align-items: center; min-height: 100vh; background-color: #f2f3f5; font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", Arial, sans-serif; }
        .phone-frame { width: 375px; height: 667px; background-color: #f7f8fa; border-radius: 40px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); overflow: hidden; display: flex; flex-direction: column; position: relative; border: 12px solid #333; }
        
        .nav-bar { background-color: #1890FF; padding: 44px 15px 10px; display: flex; align-items: center; justify-content: space-between; color: #fff; flex-shrink: 0; position: relative; }
        .nav-left { display: flex; align-items: center; flex: 1; }
        .nav-back { font-size: 24px; cursor: pointer; margin-right: 15px; font-weight: bold; }
        .nav-title { font-size: 18px; font-weight: 600; position: absolute; left: 50%; transform: translateX(-50%); text-align: center; }
        .nav-btn { color: #fff; font-size: 12px; cursor: pointer; border: none; background: none; padding: 4px; font-weight: 400; }

        .content { flex: 1; overflow-y: auto; padding: 10px 14px; }
        .section-title { font-size: 11px; color: #858c96; margin: 8px 0 6px 4px; font-weight: 500; letter-spacing: 0.1px; }
        .card { background: #fff; border-radius: 10px; padding: 12px 14px; box-shadow: 0 2px 8px rgba(0,0,0,0.02); overflow: hidden; }

        .summary { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
        .summary-item { font-size: 12px; color: #374151; }
        .summary-value { font-size: 13px; color: #1f2937; font-weight: 600; }

        .form-row { display: flex; align-items: center; min-height: 44px; border-top: 0.5px solid #f2f2f2; }
        .form-label { width: 90px; font-size: 12px; color: #333; font-weight: 500; }
        .form-input { flex: 1; border: none; font-size: 13px; color: #1a1a1a; outline: none; text-align: right; background: transparent; font-family: inherit; font-weight: 600; }
        .form-input::placeholder { color: #c4c8d0; font-weight: 400; }
        .hint { font-size: 11px; color: #6b7280; margin-top: 6px; text-align: right; }

        .btn-pay { width: 100%; height: 44px; background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: white; border: none; border-radius: 22px; font-size: 15px; font-weight: 600; cursor: pointer; margin-top: 12px; }
        .btn-pay:disabled { background: #ddd; color: #999; cursor: not-allowed; }

        .tab-bar { height: 83px; background-color: #fff; border-top: 1px solid #e5e5e5; display: flex; padding-bottom: 20px; }
        .tab-item { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; color: #999; cursor: pointer; font-size: 10px; }
        .tab-item.active { color: #07c160; }
        .tab-icon { width: 24px; height: 24px; margin-bottom: 4px; background-color: currentColor; mask-size: contain; -webkit-mask-size: contain; mask-repeat: no-repeat; -webkit-mask-repeat: no-repeat; mask-position: center; -webkit-mask-position: center; }
        .icon-home { -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z'/%3E%3C/svg%3E"); mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z'/%3E%3C/svg%3E"); }
        .icon-search { -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z'/%3E%3C/svg%3E"); mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z'/%3E%3C/svg%3E"); }
        .icon-request { -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z'/%3E%3C/svg%3E"); mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z'/%3E%3C/svg%3E"); }
        .icon-me { -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E"); mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E"); }
    </style>
</head>
<body>
    <div class="phone-frame">
        <div class="nav-bar">
            <div class="nav-left">
                <div class="nav-back" onclick="history.back()">←</div>
                <div class="nav-title">积分充值</div>
            </div>
            <div style="width: 32px;"></div>
        </div>
        <div class="content">
            <div class="section-title">积分信息</div>
            <div class="card">
                <div class="summary">
                    <div class="summary-item">当前积分</div>
                    <div class="summary-value" id="currentPoints">0</div>
                </div>
                <div class="summary">
                    <div class="summary-item">兑换比例</div>
                    <div class="summary-value" id="rateText">1 积分 = ¥0.10</div>
                </div>
                <div class="form-row">
                    <div class="form-label">充值积分</div>
                    <input type="number" class="form-input" id="rechargePoints" placeholder="输入积分数量" min="1" step="1">
                </div>
                <div class="form-row">
                    <div class="form-label">需支付金额</div>
                    <div class="summary-value" id="needPay">¥0.00</div>
                </div>
                <div class="hint" id="newTotalHint">充值后积分：0</div>
                <button class="btn-pay" id="btnRecharge" disabled>立即充值</button>
            </div>
        </div>
        
        <div class="tab-bar">
            <div class="tab-item" onclick="location.href='home_mockup.html'">
                <div class="tab-icon icon-home"></div>
                <span>首页</span>
            </div>
            <div class="tab-item" onclick="location.href='search_mockup.html'">
                <div class="tab-icon icon-search"></div>
                <span>查询</span>
            </div>
            <div class="tab-item" onclick="location.href='listings_mockup.html'">
                <div class="tab-icon icon-request"></div>
                <span>求购</span>
            </div>
            <div class="tab-item active" onclick="location.href='me_mockup.html'">
                <div class="tab-icon icon-me"></div>
                <span>我的</span>
            </div>
        </div>
    </div>

    <script>
        let current = 1200;
        const rate = 0.10;
        const currentPointsEl = document.getElementById('currentPoints');
        const rechargeInput = document.getElementById('rechargePoints');
        const needPayEl = document.getElementById('needPay');
        const btnRecharge = document.getElementById('btnRecharge');
        const newTotalHint = document.getElementById('newTotalHint');

        currentPointsEl.textContent = current;
        function fmt(n) { return '¥' + n.toFixed(2); }
        function updateCalc() {
            const val = parseInt(rechargeInput.value || '0', 10);
            const valid = Number.isFinite(val) && val > 0;
            const amount = valid ? val * rate : 0;
            needPayEl.textContent = fmt(amount);
            newTotalHint.textContent = '充值后积分：' + (valid ? current + val : current);
            btnRecharge.disabled = !valid;
        }
        rechargeInput.addEventListener('input', updateCalc);
        updateCalc();

        btnRecharge.onclick = () => {
            const val = parseInt(rechargeInput.value || '0', 10);
            if (!val || val <= 0) { alert('请输入有效的充值积分'); return; }
            const amount = val * rate;
            current += val;
            alert(`本次充值：${val} 积分，支付金额：${fmt(amount)}\n模拟充值成功`);
            rechargeInput.value = '';
            currentPointsEl.textContent = current;
            updateCalc();
        };
    </script>
</body>
</html>
